"use strict";(self.webpackChunkdnb_design_system_portal=self.webpackChunkdnb_design_system_portal||[]).push([[2377],{81858:function(e,n,t){t.d(n,{Z:function(){return s}});var o=t(2784),i=t(75879),r=t(32831),d=t(67571);function s(e){var n;const t=o.useContext(r.Z),{query:s,when:a,not:l,matchOnSSR:c,disabled:u}=e;let p=o.useMemo((()=>!u&&((0,i.oA)(c)&&!(0,d.aY)())),[u,c]);const h=o.useRef((0,d.eO)(e,t.breakpoints));null!==(n=h.current)&&void 0!==n&&n.matches&&(p=!0);const[_,f]=o.useState(p),g=o.useRef();return o.useLayoutEffect((()=>{if(!u){var n;if("function"==typeof g.current)g.current(),h.current=(0,d.eO)(e,t.breakpoints),f(null===(n=h.current)||void 0===n?void 0:n.matches);return g.current=(0,d.n8)(h.current,(e=>f(e))),g.current}}),[s,a,l,u]),Boolean(_)}},6790:function(e,n,t){t.d(n,{Z:function(){return M}});var o=t(43713),i=t(9771),r=t(2784),d=t(72779),s=t.n(d),a=t(75879),l=t(11507),c=t(2045),u=t(13980),p=t.n(u),h=t(46352);p().node,p().oneOfType([p().string,p().bool]),p().oneOfType([p().string,p().bool]),p().oneOfType([p().string,p().bool]),p().oneOfType([p().string,p().bool]),p().oneOfType([p().string,p().bool]),p().oneOfType([p().string,p().bool]),p().oneOfType([p().string,p().bool]),p().object,p().oneOfType([p().string,p().bool]),p().oneOfType([p().string,p().bool]),p().oneOf(["plain","default","outlined","filled"]),p().node,p().oneOfType([p().string,p().bool]),p().oneOfType([p().string,p().bool]),p().oneOfType([p().string,p().bool]),p().string,p().string,p().node,p().oneOfType([p().bool,p().node]),p().oneOfType([p().string,p().number]),p().oneOfType([p().node,p().func,p().shape({closed:p().oneOfType([p().node,p().func]),expanded:p().oneOfType([p().node,p().func])})]),p().oneOf(["left","right"]),p().string,p().oneOfType([p().string,p().object]),p().string,p().string,p().node,h.Xj,p().func,p().func;const _={title:null,expanded:null,no_animation:null,expanded_ssr:null,prerender:null,prevent_rerender:null,prevent_rerender_conditional:null,remember_state:null,contentRef:null,flush_remembered_state:null,single_container:null,variant:"outlined",left_component:null,allow_close_all:null,disabled:null,skeleton:null,id:null,group:null,element:null,heading:null,heading_level:null,icon:null,icon_position:null,icon_size:"medium",attributes:null,class:null,className:null,children:null,on_change:null,on_state_update:null};var f=t(32831);var g=r.createContext({}),x=t(52322);let m=function(e){function n(n){var t;return(t=e.call(this,n)||this).onChangeHandler=e=>{(0,a.RW)((0,o.Z)(t),"on_change",{id:e.id,expanded:e.expanded,event:e})},t._id=n.id||(0,a.Xo)(),t.state={_listenForPropChanges:!0},t}return(0,i.Z)(n,e),n.prototype.render=function(){const e=(0,l.$)(this.props,n.defaultProps,this.context.Accordion,this.context.getTranslation(this.props).Accordion),{expanded:t,expanded_id:o,prerender:i,prevent_rerender:r,single_container:d,contentRef:u,allow_close_all:p,remember_state:h,flush_remembered_state:_,disabled:f,group:m,onInit:v,className:b,class:y,id:w,children:A,...C}=e,O=this._id,S=s()("dnb-accordion-group",(0,a.oA)(d)&&"dnb-accordion-group--single-container",(0,c.HU)(e),b,y),j={...C};(0,a.L_)(this.props,j),!e.group&&(0,a.oA)(e.single_container)&&(e.group=(0,a.Xo)());const I={...e,id:O,onChange:this.onChangeHandler};return(0,x.jsx)(g.Provider,{value:I,children:(0,x.jsx)("div",{className:S,children:(0,x.jsx)("span",{id:O,className:"dnb-accordion-group__shell",role:"group",...j,children:(0,x.jsx)("span",{className:"dnb-accordion-group__children",children:A})})})})},n}(r.PureComponent);m.contextType=f.Z,m.defaultProps={..._,expanded_id:null,onInit:null};var v=t(3805),b=t(64028),y=t.n(b);var w=r.createContext({}),A=t(59525);function C(e){let{children:n,...t}=e;return(0,x.jsx)("span",{className:s()("dnb-accordion__header__title",(0,c.HU)(t)),children:n})}function O(e){let{children:n,...t}=e;return n?(0,x.jsx)("span",{className:s()("dnb-accordion__header__description",(0,c.HU)(t)),children:n}):null}function S(e){let{children:n,...t}=e;return n?(0,x.jsx)("span",{className:s()("dnb-accordion__header__container",(0,c.HU)(t)),children:n}):null}function j(e){let{icon:n,expanded:t,...o}=e;return(0,x.jsx)("span",{className:"dnb-accordion__header__icon",children:(0,x.jsx)(v.Z,{...o,icon:void 0!==(null==n?void 0:n.expanded)?n[t?"expanded":"closed"]:n||"chevron-down","aria-hidden":!0})})}C.defaultProps={children:null},O.defaultProps={children:null},S.defaultProps={children:null},j.defaultProps={icon:null,size:"medium",expanded:null};let I=function(e){function n(n){var t;return(t=e.call(this,n)||this).onKeyDownHandler=e=>{switch(y()(e)){case"enter":case"space":e.preventDefault(),t.onClickHandler(e)}},t.onClickHandler=e=>{const{id:n,group:o}=t.context;if(t.canClick()){const i=!t.context.expanded;t.context.callOnChange({id:n,group:o,expanded:i,event:e}),t.setState({hadClick:!0})}},t.onMouseOverHandler=()=>{t.setState({hover:!0})},t.onMouseOutHandler=()=>{t.setState({hover:!1,hadClick:!1})},t.state={},t}(0,i.Z)(n,e);var t=n.prototype;return t.canClick=function(){const{expanded:e,allow_close_all:n,group:t}=this.context;return!t||t&&!e||(0,a.oA)(n)},t.render=function(){const e=(0,l.$)(this.props,n.defaultProps,this.context),{id:t,left_component:o,expanded:i,title:d,description:u,element:p,heading:h,heading_level:_,icon:f,icon_size:g,disabled:m,skeleton:v,no_animation:b}=e,{children:y,className:w,left_component:I,expanded:P,title:k,description:T,icon:D,icon_size:H,disabled:N,...Z}=this.props,{hover:$,hadClick:M}=this.state;let{icon_position:R}=e;const E=[(0,x.jsx)(j,{icon:f,size:g,expanded:this.context.expanded},"icon"),(0,x.jsx)(S,{children:o},"container"),(0,x.jsx)(C,{children:d||(Array.isArray(y)?y.filter((e=>!r.isValidElement(e))):y)},"title"),(0,x.jsx)(O,{children:u},"description")];if(Array.isArray(y)){const e=[];y.forEach((n=>{if(r.isValidElement(n)){const t=E.find((e=>e.type===n.type));t&&e.push(t),E.push(n)}})),e.forEach((e=>{const n=E.findIndex((n=>n===e));n>-1&&E.splice(n,1)}))}const U=[],z=[],F=(0,x.jsx)("span",{className:"dnb-accordion__header__wrapper",children:z},"wrapper");if(E.forEach((e=>{!r.isValidElement(e)||e.type!==C&&e.type!==O?U.push(e):(z.push(e),-1===U.findIndex((e=>e===F))&&U.push(F))})),null===R){U.findIndex((e=>e.type===j))>1&&(R="right"),o&&(R="right")}const L={id:`${t}-header`,"aria-controls":`${t}-content`,"aria-expanded":this.context.expanded,role:"button",tabIndex:"0",className:s()("dnb-accordion__header",R&&`dnb-accordion__header__icon--${R}`,$&&M&&"dnb-accordion--hover",!this.canClick()&&"dnb-accordion__header--prevent-click",u&&"dnb-accordion__header--description",b&&"dnb-accordion__header--no-animation",(0,A.BD)("font",v,this.context),(0,c.HU)(Z),w),disabled:m,...Z};m||(0,a.oA)(v)?(L.tabIndex="-1",L.disabled=!0,L["aria-disabled"]=!0):(L.onClick=this.onClickHandler,L.onKeyDown=this.onKeyDownHandler,L.onMouseOver=this.onMouseOverHandler,L.onMouseOut=this.onMouseOutHandler),(0,A.rZ)(L,v,this.context),(0,a.L_)(this.props,L);let K="div";return(0,a.oA)(h)?(L.role="heading",L["aria-level"]=_?String(_):"2"):h?(L.role=null,K=h):p&&(L.role=null,K=p),(0,x.jsx)(K,{...L,children:U})},n}(r.PureComponent);I.contextType=w,I.defaultProps={id:null,title:null,description:null,left_component:null,element:null,heading:null,heading_level:null,icon:null,icon_position:null,icon_size:"medium",disabled:null,skeleton:null,no_animation:null,className:null,children:null},I.Container=S,I.Icon=j,I.Title=C,I.Description=O;var P=t(47017),k=t(93573),T=t(81858),D=t(91974);function H(e){const n=r.useContext(w),{id:t,expanded:o,prerender:i,prevent_rerender:d,single_container:l,disabled:u,no_animation:p,contentRef:h}=n,{className:_,children:f,instance:g,...m}=e;let v=r.useRef(null);const b=r.useRef(null);h&&(v=h);const y=()=>{const{single_container:e}=n;if(e){const e=v.current;if(e)try{e.style.height="";const n=(0,P.U)("dnb-accordion-group--single-container",e);p&&(n.style.transitionDuration="1ms");const t=(e.offsetHeight+e.offsetTop)/16;n.style.minHeight=`${t}rem`}catch(t){(0,k.ZK)(t)}}};r.useEffect((()=>{o&&(0,a.oA)(l)&&y()}),[f,o,l]),r.useState((()=>{g&&Object.prototype.hasOwnProperty.call(g,"current")&&(g.current={setContainerHeight:y})}));const A=(0,T.Z)({when:{max:"small"}}),C=(()=>{const t=(0,a.Ob)(e),{expanded:o,prerender:i,prevent_rerender:r,prevent_rerender_conditional:d}=n;let s=t;return"string"==typeof s&&(s=(0,x.jsx)("p",{className:"dnb-p",children:s})),(0,a.oA)(r)&&(o||i||(s=null),(0,a.oA)(d)&&b.current!==s&&(b.current=s),b.current?s=b.current:b.current=s),s})(),O={className:s()("dnb-accordion__content",_),...m},S=i||d,j={id:`${t}-content`,"aria-labelledby":`${t}-header`,className:s()("dnb-accordion__content__inner",(0,c.HU)(m))};o&&(j["aria-expanded"]=!0),o&&!u||(j.disabled=!0,j["aria-hidden"]=!0),(0,a.L_)(e,O),(0,a.L_)(null,j);const I=!p&&(!l||A);return(0,x.jsx)(D.Z,{...O,open:o,animate:I,keepInDOM:S,innerRef:v,children:(0,x.jsx)("section",{...j,children:C})})}H.defaultProps={instance:null,className:null,children:null};let N=function(){function e(e){this._id=e,this._instances=[]}var n=e.prototype;return n.onChange=function(e){let{id:n}=e;this._instances.forEach((e=>{e._id!==n&&e.close()}))},n.addInstance=function(e){this._instances.push(e)},n.removeInstance=function(e){this._instances=this._instances.filter((n=>n!==e))},e}(),Z=function(){function e(e){let{id:n,group:t}=e;return this.id=n,this.group=t,this}var n=e.prototype;return n.storeId=function(e){if(void 0===e&&(e=this.id),this.group){if("#"===this.group[0])return null;e=this.group}return`dnb-accordion-${e}`},n.saveState=function(e,n,t){if(void 0===n&&(n=this.id),void 0===t&&(t={}),n)try{const o=this.getData()||{};this.group?e?o.id=n:t&&t.force&&(o.id=null):o.expanded=e;const i=this.storeId(n);i&&window.localStorage.setItem(i,JSON.stringify(o))}catch(o){}else $()},n.getData=function(e){void 0===e&&(e=this.id);const n=this.storeId(e);if(n)try{if(Object.prototype.hasOwnProperty.call(window.localStorage,n))return JSON.parse(window.localStorage.getItem(n))}catch(t){}return null},n.getState=function(e){void 0===e&&(e=this.id);let n=null;const t=this.getData(e);return t&&(void 0!==t.id?n=e===t.id:void 0!==t.expanded&&(n=(0,a.oA)(t.expanded))),n},n.flush=function(e){if(void 0===e&&(e=this.id),e)try{const n=this.storeId(e);n&&window.localStorage.setItem(n,null)}catch(n){}},e}();function $(e){void 0===e&&(e="accordion"),(0,k.ZK)(`Missing "id" prop the ${e}! "remember_state" is enabled.`)}let M=function(e){function n(n,t){var i;if((i=e.call(this,n)||this).handleDisabledClick=e=>(e.preventDefault(),!1),i.callOnChangeHandler=function(){for(var e,n,t,o,r,d=arguments.length,s=new Array(d),a=0;a<d;a++)s[a]=arguments[a];((e=i).callOnChange.apply(e,s),null!==(n=i.context)&&void 0!==n&&n.onChange)&&(null===(t=i.context)||void 0===t||t.onChange.apply(t,s));i.state.group&&"undefined"!=typeof window&&(null===(o=window)||void 0===o||null===(r=o.__dnbAccordion[i.state.group])||void 0===r||r.onChange.apply(r,s))},i.callOnChange=e=>{let{expanded:n,event:t}=e;i.changeOpened(n,t),(0,a.RW)((0,o.Z)(i),"on_change",{expanded:n,event:t})},i._id=n.id||(0,a.Xo)(),i.state={_expanded:n.expanded,expanded:null!==n.expanded?(0,a.oA)(n.expanded):(0,a.oA)(null==t?void 0:t.expanded),group:n.group||(null==t?void 0:t.group),_listenForPropChanges:!1},"undefined"==typeof window&&(0,a.oA)(n.expanded_ssr||(null==t?void 0:t.expanded_ssr))&&(i.state.expanded=!0),i.state.group&&"undefined"!=typeof window&&(window.__dnbAccordion=window.__dnbAccordion||{},window.__dnbAccordion[i.state.group]=window.__dnbAccordion[i.state.group]||new N(i.state.group),window.__dnbAccordion[i.state.group].addInstance((0,o.Z)(i))),i.store=new Z({id:n.id,group:i.state.group}),(0,a.oA)(n.remember_state||t.remember_state)&&(0,a.oA)(n.expanded)){!1===i.store.getState()&&(i.state.expanded=!1)}if(t&&"function"==typeof(null==t?void 0:t.onInit)&&t.onInit((0,o.Z)(i)),"undefined"!=typeof window&&(0,a.oA)(n.expanded_ssr||(null==t?void 0:t.expanded_ssr))&&(i.state.expanded=!1),(0,a.oA)(i.props.remember_state||t.remember_state)){i.store.getState()&&(i.state.expanded=!0)}return i}(0,i.Z)(n,e),n.getDerivedStateFromProps=function(e,n){return n._listenForPropChanges&&(e.expanded!==n._expanded&&(n.expanded=(0,a.oA)(e.expanded),n._expanded=e.expanded),e.group&&!n.group&&(n.group=e.group)),n._listenForPropChanges=!0,n};var t=n.prototype;return t.componentDidMount=function(){this._isMounted=!0},t.componentWillUnmount=function(){var e,n;(this._isMounted=!1,clearTimeout(this._animationState),clearTimeout(this._openTimeout),clearTimeout(this._changeOpenState),this.state.group&&"undefined"!=typeof window)&&(null===(e=window)||void 0===e||null===(n=e.__dnbAccordion[this.state.group])||void 0===n||n.removeInstance(this))},t.componentDidUpdate=function(e){var n;(0,a.oA)(this.context.flush_remembered_state)&&(this.store.flush(),this.setState({expanded:(0,a.oA)(this.props.expanded)})),null!==(n=this.context)&&void 0!==n&&n.expanded_id&&this.context.expanded_id===e.id&&this.setState({expanded:!0})},t.setExpandedState=function(e){this.setState({expanded:e,_listenForPropChanges:!1})},t.close=function(){this.changeOpened(!1)},t.changeOpened=function(e){this._isMounted&&(this.setState({expanded:e,_listenForPropChanges:!1}),((0,a.oA)(this.props.remember_state)||(0,a.oA)(this.context.remember_state))&&this.store.saveState(e))},t.render=function(){return(0,x.jsx)(f.Z.Consumer,{children:e=>(0,x.jsx)(w.Consumer,{children:t=>{let{expanded:o}=this.state;const i=(0,l.$)(this.props,n.defaultProps,this.context,t,{skeleton:null==e?void 0:e.skeleton},e.accordion,e.translation.Accordion);null===o&&e.accordion&&e.accordion.expanded&&(o=(0,a.oA)(i.expanded));const{variant:r,className:d,class:u,prerender:p,prevent_rerender:h,prevent_rerender_conditional:_,single_container:f,remember_state:g,disabled:m,skeleton:v,no_animation:b,expanded_ssr:y,children:A,id:C,group:O,expanded:S,title:j,description:P,left_component:k,icon:T,icon_position:D,icon_size:N,on_change:Z,on_state_update:$,contentRef:M,...R}=i,E=this._id,U={id:E,className:s()("dnb-accordion",o&&"dnb-accordion--expanded",r&&`dnb-accordion__variant--${r}`,(0,a.oA)(p)&&"dnb-accordion--prerender",(0,c.HU)(i),d,u)};this.state.open&&(U.open=!0),(0,a.L_)(this.props,R);const z={...(0,l.$)(this.props,n.defaultProps,this.state,this.context),id:E,expanded:o,prerender:(0,a.oA)(p),prevent_rerender:(0,a.oA)(h),prevent_rerender_conditional:(0,a.oA)(_),single_container:(0,a.oA)(f),remember_state:(0,a.oA)(g),disabled:(0,a.oA)(m),skeleton:(0,a.oA)(v),no_animation:(0,a.oA)(b),callOnChange:this.callOnChangeHandler};return(0,a.oA)(m)&&(U.onClick=this.handleDisabledClick),(0,x.jsx)(w.Provider,{value:z,children:(0,x.jsxs)("div",{...U,children:[(0,a.$w)(A,(e=>e.type===I))?null:(0,x.jsx)(I,{}),(0,a.$w)(A,(e=>e.type===H))?A:(0,x.jsx)(H,{children:A})]})})}})})},n}(r.PureComponent);M.contextType=g,M.Provider=m,M.Header=I,M.Content=H,M.defaultProps={..._};let R=function(e){function n(n){var t;let o;return(t=e.call(this,n)||this).state={},t.onInit=e=>{e.props.id&&!t._IDs.includes(e.props.id)&&t._IDs.push(e.props.id)},n.id?o=n.id:n.group||(o="#"+(0,a.Xo)()),t.state.group=o,t.store=new Z({group:o}),t._IDs=[],(0,a.oA)(n.remember_state)&&!n.id&&$("accordion group"),t}(0,i.Z)(n,e);var t=n.prototype;return t.componentDidMount=function(){const e=this.store.getData();if(null!=e&&e.id&&!this._IDs.includes(e.id)){const e=this._IDs[0];e&&this.setState({expanded_id:e},(()=>{this.store.saveState(!0,e),this.setState({expanded_id:null})}))}},t.render=function(){return(0,x.jsx)(m,{onInit:this.onInit,...this.props,...this.state})},n}(r.PureComponent);R.defaultProps={id:null,group:null,remember_state:null},M.Group=R,M.Group.Store=function(e,n){return void 0===n&&(n=null),new Z({group:e,id:n})},M.Store=e=>new Z({id:e})}}]);
//# sourceMappingURL=1356b8f4536a1a3bcf30102aebb8a1391d4b2867-619f445c22e761cb3804.js.map