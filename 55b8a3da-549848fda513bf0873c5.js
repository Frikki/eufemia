(self.webpackChunkdnb_design_system_portal=self.webpackChunkdnb_design_system_portal||[]).push([[952],{5987:function(e,t,o){"use strict";o.d(t,{Z:function(){return D}});var r=o(17362),n=o(2784),l=o(13980),i=o.n(l),s=o(41717),a=o.n(s),c=o(78476),d=o(28447),u=o(18804),m=o(6276),f=o(93805),h=o(85266),p=o(26127),g=o(81976),v=o(55313),b=o(89503),w=o.n(b),y=o(68973),x=o(87049);function k(e,t){if(null==e)return{};var o,r,n=function(e,t){if(null==e)return{};var o,r,n={},l=Object.keys(e);for(r=0;r<l.length;r++)o=l[r],t.indexOf(o)>=0||(n[o]=e[o]);return n}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)o=l[r],t.indexOf(o)>=0||Object.prototype.propertyIsEnumerable.call(e,o)&&(n[o]=e[o])}return n}function O(){return(O=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var r in o)Object.prototype.hasOwnProperty.call(o,r)&&(e[r]=o[r])}return e}).apply(this,arguments)}function T(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,r)}return o}function P(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?T(Object(o),!0).forEach((function(t){_(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):T(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}function _(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}const j=(0,r.Z)(x.Z,{target:"e12hyogh2"})({name:"1oosvyd",styles:"@media screen and (min-width: 50em){display:none;}"}),Z=(0,r.Z)("li",{target:"e12hyogh1"})({name:"1xyucgj",styles:"list-style:none;margin:0;.dnb-anchor{position:relative;padding:0;height:2.5rem;display:flex;flex-direction:row;justify-content:space-between;align-items:center;transform:translateY(1px);color:var(--color-emerald-green);background-color:inherit;font-size:inherit;&:hover{color:var(--color-black);background-color:transparent;}}.show-mobile-menu &{opacity:0.3;animation:show-mobile-menu 600ms cubic-bezier(0.19, 1, 0.22, 1) 1 var(--delay) forwards;}.hide-mobile-menu &{opacity:1;animation:hide-mobile-menu 300ms cubic-bezier(0.19, 1, 0.22, 1) 1 calc(10ms - var(--delay)) forwards;}&:first-of-type{margin-bottom:1rem;font-size:var(--font-size-large);background-color:transparent;}html:not([dev-grid]) &{background-color:var(--color-white);}&.l-1 .dnb-anchor{margin-left:var(--level-icon-adjust);padding-left:calc(var(--level-offset) + var(--level) * 2);height:4rem;color:var(--color-ocean-green);font-weight:var(--font-weight-medium);font-size:var(--font-size-large);}&.l-2{.dnb-anchor{padding-left:calc(var(--level-offset) + var(--level) * 2);height:3.5rem;.dnb-icon{margin-right:1rem;margin-left:var(--level-icon-adjust);color:var(--color-black-80);}}&.is-inside{font-weight:var(--font-weight-medium);html:not([dev-grid]) &{background-color:var(--color-mint-green-12);}}}&.l-3{font-size:var(--font-size-small);.dnb-anchor{padding-left:calc(var(--level-offset) + var(--level) * 3);}&.is-inside{font-weight:var(--font-weight-medium);html:not([dev-grid]) &{background-color:var(--color-sea-green-30);}}}&.l-4 .dnb-anchor{padding-left:calc(var(--level-offset) + var(--level) * 4);}&.l-5 .dnb-anchor{padding-left:calc(var(--level-offset) + var(--level) * 5);}&.l-6 .dnb-anchor{padding-left:calc(var(--level-offset) + var(--level) * 6);}&.l-4,&.l-5,&.l-6{font-size:var(--font-size-small);&.is-inside{html:not([dev-grid]) &{background-color:var(--color-mint-green-12);}}}&.l-1,&.l-2,&.l-3,&.l-4,&.l-5,&.l-6{&.is-active{html:not([dev-grid]) &{background-color:var(--color-mint-green-50);}}}.dnb-anchor:focus:not(:active){color:var(--color-white);background-color:var(--color-emerald-green);svg{color:var(--color-white);}}@keyframes show-mobile-menu{0%{opacity:0.3;transform:translate3d(0, -20%, 0);}40%{opacity:1;}100%{opacity:1;transform:translate3d(0, 0, 0);}}@keyframes hide-mobile-menu{0%{opacity:1;transform:translate3d(0, 0, 0);}60%{opacity:0.5;transform:translate3d(0, 0, 0);}100%{opacity:0.3;transform:translate3d(0, -20%, 0);}}.status-badge{margin-right:1rem;display:flex;justify-content:center;align-items:baseline;font-size:0.4375rem;line-height:1.3125rem;font-weight:var(--font-weight-basis);text-align:center;text-transform:uppercase;color:var(--color-black);height:1.25rem;width:1.25rem;border-radius:50%;background-color:var(--color-mint-green-25);&::after{content:'';position:absolute;z-index:1;}}&.status-dep .status-badge{color:var(--color-black-80);background-color:var(--color-fire-red-8);}&.status-new .status-badge{color:var(--color-sea-green);background-color:transparent;}&.status-beta .status-badge{color:var(--color-fire-red);background-color:transparent;}&.status-imp .status-badge{background-color:var(--color-black);color:var(--color-white);}"}),R=(0,r.Z)("nav",{target:"e12hyogh0"})({name:"1bway3w",styles:"position:fixed;z-index:1;height:calc(100vh - 4rem);margin:4rem 0 0;overflow-x:hidden;overflow-y:auto;overscroll-behavior:contain;-ms-overflow-style:none;@media screen and (max-width: 50em){position:relative;height:auto;overflow:auto;}background-color:var(--color-white);ul{padding:2rem 0 1rem;width:30vw;width:var(--aside-width);}@media screen and (max-width: 50em){&:not(.show-mobile-menu){display:none;}}@media screen and (max-width: 50em){position:relative;ul{width:100vw;max-height:none;overflow-y:visible;}}.main-menu-toggle{margin-left:var(--level-offset);margin-top:1rem;margin-bottom:2rem;.dnb-icon:nth-of-type(1){color:var(--color-sea-green);margin-right:0.5rem;&.dnb-icon--small{margin-left:0.5rem;}}&.dnb-button__text{color:var(--color-sea-green);}&.dnb-button:hover{color:var(--color-black);.dnb-button__text,.dnb-icon{color:inherit;}}}"}),z=[];var N={name:"1ycrzq6",styles:".dnb-app-content{display:none!important;}"},S={name:"17a1mfw",styles:":root{--level-offset:3vw;--delay:0;--aside-width:30vw;--aside-width:calc(25vw + 5rem);--level-icon-adjust:-40px;--level:2vw;@media screen and (max-width: 50em){--level-offset:2rem;}@media screen and (max-width: 50em){--level:1.3rem;}}"};class D extends n.PureComponent{constructor(e){super(e),_(this,"handleKeyDown",(e=>{switch(w()(e)){case"esc":this.isOpen&&this.toggleMenu()}})),this._scrollRef=n.createRef(),(0,y.T)("nav ul li.is-active a:nth-of-type(1)","sidebar")}componentDidMount(){if(this._scrollRef.current&&"undefined"!=typeof window){let e;this.scrollToLastPosition(),this._scrollRef.current.onscroll=t=>{this.busySettingNewPos||(clearTimeout(e),e=setTimeout((()=>{try{window.localStorage.setItem("sidebarPos",t.target.scrollTop)}catch(t){console.log("SidebarLayout error:",t)}}),100))}}"undefined"!=typeof document&&document.addEventListener("keydown",this.handleKeyDown)}getLastPosition(){if("undefined"!=typeof window)try{return window.localStorage.getItem("sidebarPos")?parseFloat(window.localStorage.getItem("sidebarPos")):this.offsetTop}catch(e){return 0}}scrollToLastPosition(){if(this._scrollRef.current){this.busySettingNewPos=!0;const e=this.getLastPosition();e>0?this._scrollRef.current.scrollTop=e:this.scrollToActiveItem(),setTimeout((()=>{this.busySettingNewPos=!1}),10)}}scrollToActiveItem(){if(this._scrollRef.current){const t=this._scrollRef.current.querySelector("li.is-active");if(!t)return!1;try{const e=this._scrollRef.current.getBoundingClientRect().top,o=t.getBoundingClientRect(),r=this._scrollRef.current.scrollTop+o.top-e;window.scrollTo?window.scrollTo({top:r,behavior:"smooth"}):window.scrollTop=r}catch(e){console.log("Could not set scrollToActiveItem",e)}}}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}render(){const{location:e,showAll:t=!1}=this.props;return(0,u.tZ)(n.Fragment,null,(0,u.tZ)(u.xB,{styles:S}),(0,u.tZ)(d.StaticQuery,{query:"786658678",render:({allMdx:o,site:{pathPrefix:r}})=>{const l=e.pathname.replace(/(\/)$/,""),i=l.split("/").filter((e=>e)),s=C({location:e,allMdx:o,showAll:t,pathPrefix:r}).filter((({title:e,menuTitle:t})=>e||t)).map((e=>{const t=`/${e.path}`,o=l===t||l===t.replace(/(\/)$/,""),r=t.split("/").filter((e=>e)).every((e=>i.includes(e)));return P(P({},e),{},{active:o,inside:r})})).map(((e,t,o)=>{const r=o[t-1]?o[t-1]:null;return r&&e.level>=4&&r.inside&&e.level>=r.level&&(e.inside=!0),e})).map((({title:e,menuTitle:t,status:o,icon:r,path:n,level:l,active:i,inside:s},a)=>{const c={level:l,nr:a,status:o,icon:r,active:i,inside:s,to:n,onOffsetTop:e=>this.offsetTop=e};return(0,u.tZ)($,O({key:n},c),t||e)})),{isOpen:c,isClosing:d,toggleMenu:m}=this.context;return this.isOpen=c,this.toggleMenu=m,c&&!d?setTimeout((()=>{this.scrollToActiveItem(),(0,y.N$)("sidebar")}),300):d&&setTimeout((()=>{(0,y.N$)("content")}),300),(0,u.tZ)(n.Fragment,null,(0,u.tZ)(R,{id:"portal-sidebar-menu","aria-labelledby":"toggle-sidebar-menu",className:a()("dnb-scrollbar-appearance",c&&"show-mobile-menu",d&&"hide-mobile-menu"),ref:this._scrollRef},(0,u.tZ)(j,{trigger_text:"Portal Tools",trigger_icon:"chevron_right",trigger_icon_position:"right",left:"large",top:"large"}),(0,u.tZ)("ul",{className:"dev-grid"},s),c&&(0,u.tZ)(u.xB,{styles:N})))}}))}}_(D,"propTypes",{location:i().object.isRequired,showAll:i().bool}),_(D,"defaultProps",{showAll:!1}),_(D,"contextType",h.W);class $ extends n.PureComponent{constructor(e){super(e),this.ref=n.createRef()}componentDidMount(){this.props.active&&this.ref.current&&this.props.onOffsetTop(this.ref.current.offsetTop)}render(){const{className:e,active:t,inside:o,to:r,level:n,nr:l,status:i,icon:s,children:d}=this.props,f=i&&{new:"New",beta:"Beta",wip:"Work in Progress",cs:"Coming soon",dep:"Deprecated",imp:"Needs improvement"}[i],h={};return t&&(h["aria-current"]=!0),(0,u.tZ)(Z,{className:a()(`l-${n}`,t&&"is-active",o&&"is-inside",i?`status-${i}`:null,e),ref:this.ref,style:{"--delay":(null!==l&&l<20?12*l:0)+"ms"}},(0,u.tZ)(c.Z,O({to:r,onClick:()=>{(0,m.TW)(1)},className:a()("dnb-anchor","dnb-anchor--no-underline","dnb-anchor--no-radius","dnb-anchor--no-hover",s&&v.Z[s]?"has-icon":null)},h),(0,u.tZ)("span",null,s&&v.Z[s]&&(0,u.tZ)(g.ZP,{icon:v.Z[s],size:"medium"}),(0,u.tZ)("span",{className:a()((0,p.BD)("font",this.context.skeleton))},d)),i&&(0,u.tZ)("span",{className:a()("status-badge",(0,p.BD)("font",this.context.skeleton)),title:f,"aria-label":f},i)))}}_($,"contextType",f.Z),_($,"propTypes",{onOffsetTop:i().func,children:i().node.isRequired,className:i().string,to:i().string.isRequired,level:i().number,nr:i().number,status:i().string,icon:i().string,active:i().bool,inside:i().bool}),_($,"defaultProps",{className:null,active:!1,inside:!1,level:0,nr:null,status:null,icon:null,onOffsetTop:null});const C=({location:e,allMdx:t,showAll:o,pathPrefix:r})=>{const n=e.pathname.replace(/(\/)$/,"");let l=null;if(!1===o){const e=r?r.replace(/^(\/)/,""):null;l=n.split("/").filter((t=>t&&t!==e))[0]}const i=t.edges.map((({node:{fields:{slug:e}}})=>e)).filter((e=>"/"!==e)).sort().reduce(((e,t)=>{const r=t.split("/").filter((e=>e))[0];return!1===o?P(P({},e),{},r===l?{items:[...e.items,t]}:{[t]:[t]}):z.find((e=>e===t))?P(P({},e),{},{[t]:[t]}):r&&z.find((e=>e===`/${r}`))?P(P({},e),{},{[`/${r}`]:[...e[`/${r}`],t]}):P(P({},e),{},{items:[...e.items,t]})}),{items:[]});let s=0;const a={},c={},d=z.reduce(((e,t)=>e.concat(i[t])),[]).concat(i.items).map((e=>{const{node:{fields:{slug:o},frontmatter:{title:r,order:n}}}=t.edges.find((({node:{fields:{slug:t}}})=>t===e)),l=k(t.edges.find((({node:{fields:{slug:t}}})=>t===e)).node.frontmatter,["title","order"]),i=o.split("/").filter((e=>e)).length;return i>s&&(s=i),P({title:r,path:o,level:i,order:n,_order:o},l)})).map((e=>{const t=e.path.split("/").filter((e=>e)),o=t.slice(0,t.length-1).join("/");c[o]=c[o]||{count:1},a[e.level]=a[e.level]||{};const r=c[o].count++;return e._order=t.reduce(((t,o,n)=>(a[e.level][o]||(a[e.level][o]=e.order?parseFloat(e.order)+1e3:r),a[n+1]&&t.push(a[n+1][o]),t)),[]).join("/"),e}));return d.sort((({_order:e},{_order:t})=>e<t?-1:e>t?1:0)),d}}}]);
//# sourceMappingURL=55b8a3da-549848fda513bf0873c5.js.map