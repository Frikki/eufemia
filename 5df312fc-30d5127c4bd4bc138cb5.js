"use strict";(self.webpackChunkdnb_design_system_portal=self.webpackChunkdnb_design_system_portal||[]).push([[947],{41389:function(e,n,t){t.d(n,{D:function(){return S},yC:function(){return k},wL:function(){return E},RU:function(){return I},Rh:function(){return M},yU:function(){return H},c0:function(){return N}});t(34769),t(74083),t(34115),t(634),t(58188),t(20796),t(15735),t(28673),t(6886),t(32501),t(26936),t(27233),t(68625),t(62775),t(43105);var r=t(17362),a=(t(9949),t(1939),t(95342),t(43450),t(18178),t(43430),t(2784)),o=t(13980),i=t.n(o),c=t(64736),u=t(8683),l=t(2927),s=t(73349),g=t(72768),d=t(85368),m=t(64686),p=t(882),f=t(68973),h=t(78571),b=t(86632),y=["tableItems"],v=["className"],Z=["children","items","currentPage","perPageCount","onToggleExpanded","onMounted","endInfinity"];function _(){return(_=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e}).apply(this,arguments)}function x(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function P(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?x(Object(t),!0).forEach((function(n){w(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):x(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function w(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function L(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==t)return;var r,a,o=[],i=!0,c=!1;try{for(t=t.call(e);!(i=(r=t.next()).done)&&(o.push(r.value),!n||o.length!==n);i=!0);}catch(u){c=!0,a=u}finally{try{i||null==t.return||t.return()}finally{if(c)throw a}}return o}(e,n)||function(e,n){if(!e)return;if("string"==typeof e)return O(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(e);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return O(e,n)}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function O(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function T(e,n){if(null==e)return{};var t,r,a=function(e,n){if(null==e)return{};var t,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)t=o[r],n.indexOf(t)>=0||(a[t]=e[t]);return a}(e,n);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)t=o[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(a[t]=e[t])}return a}var C=(0,r.Z)("div",{target:"eqsxff5"})("height:",(function(e){return e.height||"20rem"}),";overflow-y:scroll;background-color:var(--color-white);border:0.25rem dotted var(--color-black);"),j=(0,r.Z)("div",{target:"eqsxff4"})("display:flex;justify-content:center;align-items:center;height:15vw;background-color:",(function(e){return e.color||"tomato"}),";font-size:15vw;font-weight:var(--font-weight-bold);font-feature-settings:'pnum' on,'lnum' on;color:var(--color-white);"),S=function(){return(0,b.tZ)(c.Z,{"data-visual-test":"pagination-default"},(function(){return"\n<Pagination\n  page_count={30}\n  current_page={15}\n  on_change={({ page }) => {\n    console.log('on_change:', page)\n  }}\n>\n  <P>Current Page Content</P>\n</Pagination>\n"}))},k=function(){return(0,b.tZ)(c.Z,{hideCode:!0},(function(){return"\n<Pagination\n  page_count={5}\n  startup_page={3}\n  on_change={({ page }) => {\n    console.log('on_change:', page)\n  }}\n>\n  {({ pageNumber }) => <P>Page {pageNumber}</P>}\n</Pagination>\n"}))},E=function(){return(0,b.tZ)(c.Z,{scope:{LargePage:j}},(function(){return'\n<Pagination\n  align="center"\n  page_count={30}\n>\n  {({ page, setContent }) => {\n    // simulate server communication delay\n    const timeout = setTimeout(() => {\n      setContent(page, <LargePage>{page}</LargePage>)\n    }, Math.ceil(Math.random() * 500))\n\n    return () => clearTimeout(timeout)\n  }}\n</Pagination>\n'}))},I=function(){return(0,b.tZ)(c.Z,{scope:{HeightLimit:C,LargePage:j}},(function(){return'\n<HeightLimit>\n  <Pagination\n    mode="infinity"\n    use_load_button\n    startup_page={5}\n    min_wait_time={0}\n    on_load={({ page, setContent }) => {\n      // simulate server communication delay\n      const timeout = setTimeout(() => {\n        setContent(page, (\n          <LargePage>\n            {page}\n          </LargePage>)\n        )\n      }, Math.ceil(Math.random() * 500))\n      \n      return () => clearTimeout(timeout)\n    }}\n  />\n</HeightLimit>\n'}))},M=function(){return(0,b.tZ)(c.Z,{scope:{HeightLimit:C,LargePage:j}},(function(){return'\n<HeightLimit>\n  <Pagination\n    mode="infinity"\n    indicator_element={() => (\n      <LargePage color="lightgreen">Loading ...</LargePage>\n    )}\n    startup_page={3}\n    page_count={10}\n    min_wait_time={0}\n    on_load={({ page, setContent }) => {\n      // simulate server communication delay\n      const timeout = setTimeout(() => {\n        setContent(page, (\n          <LargePage>\n            {page}\n          </LargePage>)\n        )\n      }, Math.ceil(Math.random() * 500))\n\n      return () => clearTimeout(timeout)\n    }}\n    on_end={({ page, setContent }) => {\n      setContent(page, <LargePage color="lightgreen">End</LargePage>)\n    }}\n  />\n</HeightLimit>\n'}))},H=function(){return(0,b.tZ)(c.Z,{scope:{HeightLimit:C,LargePage:j}},(function(){return'\n<HeightLimit>\n  <Pagination\n    mode="infinity"\n    parallel_load_count={2}\n    min_wait_time={0}\n    on_load={({ page, setContent, endInfinity }) => {\n      // simulate server communication delay\n      const timeout = setTimeout(() => {\n        if(page > 10){\n          endInfinity()\n        }\n        else {\n          setContent(page, (\n            <LargePage>\n              {page}\n            </LargePage>)\n          )\n        }\n      }, Math.ceil(Math.random() * 1e3))\n\n      return () => clearTimeout(timeout)\n    }}\n    on_end={({ page, setContent }) => {\n      setContent(page,\n        <LargePage color="lightgreen">\n          End\n        </LargePage>\n      )\n    }}\n  />\n</HeightLimit>\n'}))},N=function(){return(0,b.tZ)(c.Z,{scope:{HeightLimit:C,PaginationTableExample:q}},(function(){return'\n<HeightLimit height="60rem">\n  <PaginationTableExample />\n</HeightLimit>\n'}))};function q(){return(0,b.tZ)($,{className:"dnb-core-style",spacing:!0},(0,b.tZ)(u.Z,{left:!0},(0,b.tZ)(g.Z,{size:"small"},"Infinity Table"),(0,b.tZ)(d.Z,{bottom:!0},"This is a semantic correct table using infinity scrolling. It also has a sticky header."),(0,b.tZ)(m.Z,{bottom:!0},(0,b.tZ)("li",null,"The startup page number is set to 3."),(0,b.tZ)("li",null,"And per page we show 10 items."),(0,b.tZ)("li",null,"A random delay is added to simulate asynchronous interaction."))),(0,b.tZ)(F,{tableItems:A}))}for(var A=[],D=1;D<=300;D++)A.push({ssn:D,text:String(D),expanded:!1});var F=function(e){var n=e.tableItems,t=T(e,y),r=L(a.useState(h.FV),1)[0],o=r.Pagination,i=r.setContent,c=r.resetContent,u=r.resetInfinity,s=r.endInfinity,g=L(a.useState("asc"),2),d=g[0],m=g[1],f=L(a.useState(null),2),Z=f[0],x=f[1],w=L(a.useState(null),2),O=(w[0],w[1]);n=W(n,d);var C;return i(Z,(0,b.tZ)(z,{items:n,perPageCount:10,currentPage:Z,onToggleExpanded:function(e){var t=e.ssn,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=r.pageNumber,o=r.element,i=void 0===o?null:o,c=r.onExpanded,u=void 0===c?null:c,l=n.findIndex((function(e){return e.ssn===t}));if(l>-1){var s=n[l];n[l]=P(P({},s),{},{expanded:!s.expanded}),x(a),O((new Date).getTime()),i&&V({element:i,expanded:!s.expanded}),setTimeout(u,10)}},onMounted:function(e){e.forEach((function(e){var n=e.element.current,t=e.expanded;return V({element:n,expanded:t,animation:!1})}))},endInfinity:s})),a.useEffect((function(){return function(){return clearTimeout(C)}})),(0,b.tZ)(R,{sticky:!0},(0,b.tZ)("thead",null,(0,b.tZ)("tr",null,(0,b.tZ)("th",{scope:"col"},(0,b.tZ)(l.ZP,{size:"small",icon:"reset",icon_position:"left",variant:"secondary",on_click:function(){clearTimeout(C),u(),c(),m("asc"),O((new Date).getTime())}},"Reset everything")),(0,b.tZ)("th",{scope:"col",className:"dnb-table--sortable dnb-table--active ".concat("desc"===d?" dnb-table--reversed":"")},(0,b.tZ)(l.ZP,{variant:"tertiary",icon:"arrow-down",text:"Sortable",title:"Sort table row",on_click:function(){c(),m((function(e){return"asc"===e?"desc":"asc"}))}})))),(0,b.tZ)("tbody",null,(0,b.tZ)(p.v,null),(0,b.tZ)(o,_({mode:"infinity",marker_element:"tr",fallback_element:function(e){var n=e.className,t=T(e,v);return(0,b.tZ)(U,{className:n},(0,b.tZ)(Y,_({colSpan:"2"},t)))},startup_count:1,parallel_load_count:1,startup_page:3},t,{on_startup:function(e){var n=e.page;console.log("on_startup: with page",n),clearTimeout(C),C=setTimeout((function(){x(n),clearTimeout(C),O((new Date).getTime())}),Math.ceil(1e3*Math.random()))},on_change:function(e){var n=e.page;console.log("on_change: with page",n),clearTimeout(C),C=setTimeout((function(){x(n)}),Math.ceil(1e3*Math.random()))}}))))};F.propTypes={tableItems:i().array.isRequired};var z=function(e){var n=e.children,t=e.items,r=e.currentPage,o=e.perPageCount,i=e.onToggleExpanded,c=e.onMounted,u=e.endInfinity,s=T(e,Z),g=[];return c&&a.useEffect((function(){return c&&c(g)}),[]),0===(t=t.filter((function(e,n){var t=(r-1)*o;return n>=t&&n<t+o}))).length?(u(),null):t.map((function(e,t){var o={onClick:function(n){if(!(0,f.qF)(n.currentTarget)||/button/.test(document.activeElement.type)){var t=n.currentTarget;i(e,{pageNumber:r,onExpanded:function(){try{t=t.nextElementSibling,V({element:t,expanded:!e.expanded}),t.focus()}catch(n){}}})}}},c=a.createRef(null);return g.push(P(P({},e),{},{element:c})),(0,b.tZ)(a.Fragment,{key:e.ssn},(0,b.tZ)(U,_({},s,o,{className:"dnb-table--".concat(t%2?"even":"odd"," ").concat(e.expanded?"expanded":""),ref:c}),(0,b.tZ)(Y,null,(0,b.tZ)(l.ZP,{title:e.expanded?"Hide details":"Show more details",icon:"chevron_down",size:"small",right:"large"})),(0,b.tZ)(Y,null,(0,b.tZ)(d.Z,null,e.text," ",n))),(0,b.tZ)(U,{className:"expanded-content dnb-no-focus ".concat(e.expanded?"expanded":""),tabIndex:"-1"},(0,b.tZ)(Y,{colSpan:"2"},e.expanded&&(0,b.tZ)("div",{className:"expanded-content__outer"},(0,b.tZ)("div",{className:"expanded-content__inner"},(0,b.tZ)(d.Z,null,"What ever content ..."),(0,b.tZ)(l.ZP,{variant:"secondary",top:!0},"🔥"))))))}))},R=(0,r.Z)(p.Z,{target:"eqsxff3"})({name:"wgb42e",styles:"table-layout:fixed"}),U=(0,r.Z)("tr",{target:"eqsxff2"})({name:"14oarkp",styles:"&:not(.expanded-content):hover{cursor:pointer;opacity:0.8;}.dnb-icon{transition:transform 300ms ease-out;}&.expanded{.dnb-icon{transform:rotate(-180deg);}}&.expanded-content{max-height:10rem;transform:translateY(-10px);opacity:0;transition:height 400ms ease-out,opacity 600ms ease-out,transform 400ms ease-out;td{height:inherit;padding:0;background-color:var(--color-white);.expanded-content__outer{height:inherit;}.expanded-content__inner{height:inherit;padding:2rem 0 2rem 3rem;background-color:tomato;}}}&.expanded.expanded-content{opacity:1;transform:translateY(0);}"}),Y=(0,r.Z)("td",{target:"eqsxff1"})({name:"16lnd8y",styles:".dnb-pagination__loadbar{justify-content:flex-start;}.dnb-pagination__indicator,.dnb-pagination__loadbar{height:6rem;}.dnb-p{cursor:text;font-feature-settings:'pnum' on,'lnum' on;font-weight:var(--font-weight-bold);font-size:var(--font-size-large);.dnb-spacing &.dnb-h--large:not([class*='space__bottom']),.dnb-core-style .dnb-spacing &.dnb-h--large:not([class*='space__bottom']){margin:0;}}"}),V=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.element,t=e.expanded,r=void 0!==t&&t,a=e.animation,o=void 0===a||a;if(n&&"undefined"!=typeof window&&window.requestAnimationFrame){"td"===String(n.nodeName).toLowerCase()&&(n=n.parentElement);var i=r?window.getComputedStyle(n)["max-height"]:n.scrollHeight;window.requestAnimationFrame((function(){o&&(n.style.height="1px"),window.requestAnimationFrame((function(){return n.style.height=i}))}))}},W=function(e,n){return e.sort((function(e,t){var r=e.text,a=t.text,o=parseFloat(r),i=parseFloat(a);return("asc"===n?o>i:o<i)?1:-1}))},$=(0,r.Z)(s.Z,{target:"eqsxff0"})({name:"2o4w0b",styles:"width:100%;background:var(--color-white)"})}}]);
//# sourceMappingURL=5df312fc-30d5127c4bd4bc138cb5.js.map