/*
 * Skeleton Theme
 *
 */

.dnb-skeleton {
  // box-shadow: 0 0 0 1px var(--color-sea-green-30) !important; // use !important to overwrite error state
  // &.dnb-input__shell {
  // }

  &::before {
    background-color: var(
      --color-sea-green-30
    ) !important; // to take presence
  }

  // Dots
  // @at-root *:not([class*='dnb-skeleton--']) &::after,
  &::after,
  &--dots &::after,
  &--dots#{&}::after {
    background-image: radial-gradient(
      circle closest-side,
      white 50%,
      transparent 80%
    ) !important; // to take presence
    background-repeat: repeat !important;
    background-size: 0.25rem 0.25rem !important; // to take presence

    animation: skeletonSmoothAnimation 2s linear infinite;
  }

  // Shine
  &--shine &::after,
  &--shine#{&}::after {
    background-image: radial-gradient(
      white 0%,
      transparent 50%,
      transparent 100%
    ) !important;
    background-position-y: 50% !important;
    // background-position-x: 100% !important;
    background-size: 100% 3000% !important;
    background-repeat: no-repeat !important;

    animation: skeletonShineAnimation 2s linear infinite;
  }

  // Nicer animation, but requires an hidden overflow
  &--overflow {
    overflow: hidden;
  }
  &--overflow &::after {
    animation: skeletonOverflowAnimation 2s linear infinite;
  }

  &--fancy &::after {
    animation: skeletonFancyAnimation 2s linear infinite;
  }
}

@keyframes skeletonSmoothAnimation {
  0% {
    clip-path: polygon(0 0, 0% 0, 0% 100%, 0 100%);
  }
  50% {
    clip-path: polygon(0 0, 100% 0, 100% 100%, 0 100%);
  }
  100% {
    clip-path: polygon(100% 0, 100% 0, 100% 100%, 100% 100%);
  }
}

@keyframes skeletonFancyAnimation {
  0% {
    transform: translate3d(-100%, 0, 0);
    clip-path: polygon(0 0, 20% 0, 20% 100%, 0 100%);
  }
  60% {
    transform: translate3d(0%, 0, 0);
    clip-path: polygon(0 0, 100% 0, 100% 100%, 0 100%);
  }
  100% {
    transform: translate3d(0%, 0, 0);
    clip-path: polygon(100% 0, 100% 0, 100% 100%, 100% 100%);
  }
}

@keyframes skeletonShineAnimation {
  0% {
    opacity: 0.2;
    transform: translate3d(-120%, 0, 0);
  }
  70% {
    opacity: 1;
    transform: translate3d(-10%, 0, 0);
  }
  100% {
    opacity: 0;
    transform: translate3d(20%, 0, 0);
  }
}

@keyframes skeletonOverflowAnimation {
  0% {
    transform: translate3d(-100%, 0, 0);
  }
  50% {
    transform: translate3d(0%, 0, 0);
  }
  100% {
    transform: translate3d(100%, 0, 0);
  }
}
