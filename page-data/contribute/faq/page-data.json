{"componentChunkName":"component---src-templates-mdx-js","path":"/contribute/faq/","result":{"data":{"site":{"siteMetadata":{"title":"Eufemia - DNB Design System","description":"Eufemia Design System is the go to place for all who has to design, develop and make digital WEB applications for DNB."}},"mdx":{"slug":"contribute/faq","frontmatter":{"title":"FAQ","description":null,"fullscreen":null,"showTabs":null,"hideTabs":null,"tabs":null},"tableOfContents":{"items":[{"url":"#frequently-asked-questions-faq","title":"Frequently Asked Questions (FAQ)","items":[{"url":"#how-to-enable-lint-staged","title":"How to enable lint-staged?"},{"url":"#dependency-issues","title":"Dependency issues","items":[{"url":"#node-sass-vs-sass","title":"node-sass vs sass"},{"url":"#puppeteer","title":"puppeteer"},{"url":"#stylelint","title":"Stylelint"},{"url":"#storybook","title":"Storybook"},{"url":"#gatsby-plugin-emotion","title":"gatsby-plugin-emotion"}]},{"url":"#babel","title":"Babel","items":[{"url":"#gatsby-cloud","title":"Gatsby Cloud"},{"url":"#yarn-pnp","title":"Yarn PnP"}]},{"url":"#how-can-i-make-faster-builds","title":"How can I make faster builds?"},{"url":"#i-get-gatsby-404-not-found-on-the-pages-i-work-on","title":"I get Gatsby 404 Not Found on the pages I work on"},{"url":"#i-get-an-error-importing-other-components-in-my-tsx-file","title":"I get an error importing other components in my .tsx file"}]}]},"body":"var _excluded = [\"components\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\n/* @jsxRuntime classic */\n\n/* @jsx mdx */\nvar _frontmatter = {\n  \"title\": \"FAQ\",\n  \"order\": 7,\n  \"icon\": \"helper_classes\"\n};\nvar layoutProps = {\n  _frontmatter: _frontmatter\n};\nvar MDXLayout = \"wrapper\";\nreturn function MDXContent(_ref) {\n  var components = _ref.components,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return mdx(MDXLayout, _extends({}, layoutProps, props, {\n    components: components,\n    mdxType: \"MDXLayout\"\n  }), mdx(\"h1\", null, \"Frequently Asked Questions (FAQ)\"), mdx(\"h2\", null, \"How to enable lint-staged?\"), mdx(\"p\", null, \"Create a file called \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \".env.local\"), \" in the root of the repo (side-by-side to the .git folder), and put \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"LINT_STAGED=1\"), \" inside:\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-bash\"\n  }, \"# File: .env.local\\nLINT_STAGED=1\\n\")), mdx(\"h2\", null, \"Dependency issues\"), mdx(\"h3\", null, \"node-sass vs sass\"), mdx(\"p\", null, \"The Portal (documentations) uses dart based \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"sass\"), \", while the bundle and build process of the package \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"@dnb/eufemia\"), \" uses \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"node-sass\"), \" \\u2013 because:\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"p\", {\n    parentName: \"li\"\n  }, \"we render sass styles during jest tests with \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"sass.renderSync\"), \" \\u2013 even that should work with \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"sass\"), \" as well, it can't find the \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://github.com/sass/dart-sass/issues/710\"\n  }, \"file it says\"), \".\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"p\", {\n    parentName: \"li\"\n  }, \"several places a module called \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"node-sass-once-importer\"), \" is used, that is compatible only with \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"node-sass\"), \".\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"p\", {\n    parentName: \"li\"\n  }, \"it uses \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"sass-loader\"), \" v10 because \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"TypeError: this.getOptions is not a function\"), \".\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"p\", {\n    parentName: \"li\"\n  }, \"it uses \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"node-sass\"), \" v5, else we get this error message during portal run:\"), mdx(\"pre\", {\n    parentName: \"li\"\n  }, mdx(\"code\", {\n    parentName: \"pre\"\n  }, \"ERROR in polyfill\\nModule not found: TypeError: Cannot read property 'indexOf' of\\nundefined\\n\")))), mdx(\"h3\", null, \"puppeteer\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"When upgrading to a newer version than v8, puppeteer behaves inconsistent. Sometimes the content is just tiny bit off. But most importantly, > v10.4 is very inconsistent and off running on the GitHub Actions maxOS.\")), mdx(\"h3\", null, \"Stylelint\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"v14 has changed a good amount of their default styling rules. Updating would require us to refactor a good amount of SCSS code. We are currently on v13.\")), mdx(\"h3\", null, \"Storybook\"), mdx(\"p\", null, \"The Storybook setup is using the default \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"@storybook/preset-scss\"), \" addon with the recommended dependencies. But for some reason, we can't use the latest versions of the following dependencies:\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"sass-loader\"), \" v10.2.0\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"style-loader\"), \" v2.0.0\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"css-loader\"), \" v5.2.7\")), mdx(\"p\", null, \"We get else this error:\"), mdx(\"blockquote\", null, mdx(\"p\", {\n    parentName: \"blockquote\"\n  }, \"Type Error: this.getOptions is not a function for style-loader\")), mdx(\"h3\", null, \"gatsby-plugin-emotion\"), mdx(\"p\", null, \"Newer versions than \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"7.1.0\"), \" have an issue with our Emotion setup. We may either switch complately to SASS or ensure the root (home) on the portal looks OK.\"), mdx(\"h2\", null, \"Babel\"), mdx(\"p\", null, \"Due to this bug: \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://github.com/babel/babel/issues/11394\"\n  }, \"https://github.com/babel/babel/issues/11394\"), \" we add \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \".png,.snap\"), \" so they not get copied: \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"--extensions '.js,.ts,.tsx,.png,.snap'\")), mdx(\"h3\", null, \"Gatsby Cloud\"), mdx(\"p\", null, \"The plugin \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"gatsby-plugin-gatsby-cloud\"), \" relays on a newer Webpack version than other plugins. In order to let the Portal run on the latest version, we set the yarn resolutions:\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-json\"\n  }, \"\\\"resolutions\\\": {\\n  \\\"webpack\\\": \\\"5.61.0\\\"\\n}\\n\")), mdx(\"h3\", null, \"Yarn PnP\"), mdx(\"p\", null, \"Currently, Eufemia uses yarn v3 with \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"node_modules\"), \".\"), mdx(\"p\", null, \"When switching over to Yarn PnP, there are some issues:\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Storybook:\", mdx(\"pre\", {\n    parentName: \"li\"\n  }, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-bash\"\n  }, \"ERROR in eufemia/.yarn/__virtual__/@dnb-eufemia-virtual-761b82657c/1/packages/dnb-eufemia/src/components/slider/style/dnb-range.scss (eufemia/.yarn/__virtual__/css-loader-virtual-37c5c374e4/0/cache/css-loader-npm-5.2.7-e1e8b8d16f-fb0742b30a.zip/node_modules/css-loader/dist/cjs.js!eufemia/.yarn/__virtual__/sass-loader-virtual-577853f541/0/cache/sass-loader-npm-10.2.0-91ed64638b-d53212e5d1.zip/node_modules/sass-loader/dist/cjs.js!eufemia/.yarn/__virtual__/@dnb-eufemia-virtual-761b82657c/1/packages/dnb-eufemia/src/components/slider/style/dnb-range.scss)\\nModule build failed (from eufemia/.yarn/__virtual__/sass-loader-virtual-577853f541/0/cache/sass-loader-npm-10.2.0-91ed64638b-d53212e5d1.zip/node_modules/sass-loader/dist/cjs.js):\\nSassError: File to import not found or unreadable: eufemia/.yarn/__virtual__/@dnb-eufemia-virtual-761b82657c/1/packages/dnb-eufemia/src/style/components/imports.scss.\\n        on line 6 of ../../.yarn/__virtual__/@dnb-eufemia-virtual-761b82657c/1/packages/dnb-eufemia/src/components/slider/style/dnb-range.scss\\n>> @import '../../../style/components/imports.scss';\\n\"))), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Gatsby\", mdx(\"pre\", {\n    parentName: \"li\"\n  }, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-bash\"\n  }, \"gatsby-plugin-mdx tried to access mkdirp, but it isn't declared in its dependencies; this makes the require call ambiguous and unsound.\\n\")))), mdx(\"h2\", null, \"How can I make faster builds?\"), mdx(\"p\", null, \"This is only meant for \\\"setup testing\\\" purposes! In order to make faster local builds, you can:\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Inside \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"gatsby-config.js\"), \" rename all sourcing from \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"/docs\"), \" to \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"/docs_dummy\"))), mdx(\"p\", null, \"Run \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"yarn workspace dnb-design-system-portal build-visual-test\")), mdx(\"h2\", null, \"I get Gatsby 404 Not Found on the pages I work on\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Try cleaning cache: \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"yarn workspace dnb-design-system-portal gatsby clean\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Try running \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"yarn build\"), \" again\")), mdx(\"h2\", null, \"I get an error importing other components in my .tsx file\"), mdx(\"p\", null, \"You might get an error importing .js files in typescript files.\\nThen you have to extract their typescript files .d.ts by changing \", mdx(\"em\", {\n    parentName: \"p\"\n  }, \"included files\"), \" in \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"generateTypes.js\"), \" and then run \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"yarn build:types:dev\"), \".\"));\n}\n;\nMDXContent.isMDXComponent = true;","siblings":[{"slug":"contribute","frontmatter":{"menuTitle":null,"title":"Contribution Guide","description":"Project overview, development guides, conventions etc.","fullscreen":null,"showTabs":null,"hideTabs":null,"tabs":null}}]}},"pageContext":{"id":"0f28b292-7cbb-5ebe-ad2e-8176f9160baf","slug":"contribute/faq","prev":{"id":"58322ed2-f5a8-5b7e-a936-248835cf0930","slug":"contribute/deploy","frontmatter":{"title":"Deployment","description":null}},"next":{"id":"2f2cadc5-be13-5744-aed9-309c62624def","slug":"contribute/first-contribution","frontmatter":{"title":"New contributor","description":null}}}},"staticQueryHashes":["2315317908","2480288490","3001504130","573224243"]}